[init]
	defaultBranch = main
[credential]
{{- if eq .chezmoi.os "windows" }}
	helper = wincred
{{- else if eq .chezmoi.os "darwin" }}
	helper = osxkeychain
{{- else }}
	helper = store
{{- end }}

# gh auth setup-git configuration for GitHub CLI
[credential "https://github.com"]
	helper =
	helper = !gh auth git-credential

[credential "https://gist.github.com"]
	helper =
	helper = !gh auth git-credential

[core]
	editor = vim
	quotepath = false
	# set case-sensitivity according to OS
	# (Windows filesystems are usually case-insensitive)
{{- if eq .chezmoi.os "windows" }}
	ignorecase = true
	autocrlf = true
{{- else }}
	ignorecase = false
	autocrlf = input
{{- end }}

[pull]
	# merge
    rebase = false

[ghq]
	root = {{ .chezmoi.destDir }}/src
[gitflow "branch"]
	master = main
[url "github:"]
	pushInsteadOf = https://github.com/

# for overwriting by local config
[include]
	path = {{ .chezmoi.destDir }}/.config/git/config

{{- if eq .chezmoi.username "applejxd" }}
{{- with (bitwarden "item" "gitconfig") }}
[user]
	name = {{ .login.username }}
	{{- with (bitwardenFields "item" "gitconfig") }}
	email = {{ .email.value }}
	{{- end }}
{{- end }}
{{- end }}
